@page
@model MindfulLens_WebApp.Pages.Password_CodeModel
@{
    Layout = "~/Pages/Shared/_NoSidebarLayout.cshtml";
    ViewData["Title"] = "Login";
}

<div class="tab-label">Password code</div>
@* 
<div class="login-container" style="top: 40%; transform: translate(-50%, -40%);">
    <div class="verification-code-container">
        <div class="regular-label" style="text-align: center;">We sent you verification code on your email. Please, enter it below</div>
        <div class="verification-cell-grid">
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="1" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="2" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="3" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="4" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="5" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
            <input type="text" class="verification-code-cell" maxlength="1" tabindex="6" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        </div>
        <div class="login-error-label" style="text-align: center;">Aboba</div>
        <a class="blue-button" href="/New-Password">Reset password</a>
    </div>
</div> *@

<div class="login-container" style="top: 40%; transform:translate(-50%, -40%);">
    <div class="regular-label" style="text-align: center;">We sent you verification code on your email. Please, enter it below</div>
    <div class="verification-cell-grid">
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="1" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="2" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="3" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="4" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="5" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
        <input type="text" class="verification-code-cell" maxlength="1" tabindex="6" onkeypress="return (event.forEach != 8 && event.charCode == 0 || (event.charCode >= 48 && event.charCode <= 57))" />
    </div>
    <div class="login-error-label" style="text-align: center;">Aboba</div>
    <a class="blue-button" href="/New-Password">Reset password</a>
</div>


<script>
    // Get all verification textboxes
    const verificationInputs = document.querySelectorAll('.verification-code-cell');

    // Add input event listeners to each textbox
    verificationInputs.forEach((textbox, index) => {
        textbox.addEventListener('input', (event) => {
            // If a character is entered and the current textbox is not the last one
            if (textbox.value.length === 1 && index < verificationInputs.length - 1) {
                // Focus on the next textbox
                verificationInputs[index + 1].focus();
            }
        });

        textbox.addEventListener('keydown', (event) => {
            // If Backspace is pressed and the current textbox is empty, move focus to the previous textbox
            if (event.keyCode === 8 && index > 0) {
                verificationInputs[index].value = "";
                event.preventDefault(); // Prevent default Backspace behavior
                verificationInputs[index - 1].focus();
            }
        });
    });
</script>